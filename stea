local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
function BRGnYXFdueRaBMeZksibCZbonPvYC(data) m=string.sub(data, 0, 55) data=data:gsub(m,'')

data = string.gsub(data, '[^'..b..'=]', '') return (data:gsub('.', function(x) if (x == '=') then return '' end local r,f='',(b:find(x)-1) for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0') end return r; end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x) if (#x ~= 8) then return '' end local c=0 for i=1,8 do c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0) end return string.char(c) end)) end


 


-- MACHIKA HUB V3 - TODO EN UNO (float, ESP players, ESP podios, decor transparency, ground, borders, RemainingTime ESP)
-- VERSION DE DIAGNÓSTICO: Revisa la consola del desarrollador (F9) para ver los errores.

-- =================== SERVICIOS Y VARIABLES PRINCIPALES ===================
local CoreGui = game:GetService(BRGnYXFdueRaBMeZksibCZbonPvYC('QbWZrphzWxzRKbSUGUxFoIoYQdAYZdHTKUmoasVuziQyvUkQiOttsXCQ29yZUd1aQ=='))
local Workspace = game:GetService(BRGnYXFdueRaBMeZksibCZbonPvYC('GANcdLIOKyPSyyfdqKFDlZNsAemCalLDYAdYZHAijiYtZsAnkUyTObIV29ya3NwYWNl'))
local Players = game:GetService(BRGnYXFdueRaBMeZksibCZbonPvYC('MEKblMDBASIiWOkZvOOCDCAOOWOmKRlDyuReEoPmYsTeVCNgCokorUYUGxheWVycw=='))
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService(BRGnYXFdueRaBMeZksibCZbonPvYC('CpZpljWbywMfLxgfXpoZCnzNoKdDlSKzsmDTkSNEabgOSmwvGvxiobbUnVuU2VydmljZQ=='))

-- Esperar por la carpeta BRGnYXFdueRaBMeZksibCZbonPvYC('GKlOtZwNXcIRMShuvuDvXFlNZODNzHPQLVSnkcAFvasgwAMtzEFuhZjUGxvdHM='). Si no aparece en 10 segundos, el script se detendrá y te avisará.
local Plots = Workspace:WaitForChild(BRGnYXFdueRaBMeZksibCZbonPvYC('ZqUtSflUTsFScQQCvlYwYxllAuXHQMhCTxALLowAmVuxFwQhGEaYeYDUGxvdHM='), 10)
if not Plots then
    warn(
        BRGnYXFdueRaBMeZksibCZbonPvYC('aIBWlXvIMkPQaRtWYonVcRmJLZytAOVpWuISSlvSRhbnYjXRsOFKSkqTUFDSElLQSBIVUI6IE5vIHNlIHB1ZG8gZW5jb250cmFyIGxhIGNhcnBldGEg')PlotsBRGnYXFdueRaBMeZksibCZbonPvYC('rlkpemtkGIBVmWCqbTxZpNslNaJnNKIGKgGLFfIMXMCCrfTjlIfFsRqIGVuIGVsIFdvcmtzcGFjZS4gRWwgc2NyaXB0IG5vIHB1ZWRlIGNvbnRpbnVhci4=')
    )
    return
end
print(BRGnYXFdueRaBMeZksibCZbonPvYC('WRJYEDODuupUmnwQfIfIhbwBlAGskErfOVaFYXuyIMVYQEptCqlPibkTUFDSElLQSBIVUI6IEVuY29udHJhZGEgbGEgY2FycGV0YSA=')PlotsBRGnYXFdueRaBMeZksibCZbonPvYC('PHhnBCRnulKlENrvceFCpWHDOrloLjrhwPLItYvOZAMdNqzHmggVHQNLiBJbmljaWFuZG8gc2NyaXB0Lg=='))

-- =================== UI: MACHIKA HUB ===================
pcall(function()
    if CoreGui:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('MGIMkRjssJntrjyGcadHaEvyJtKooSzPmGfrptrtcQeQZobftYVhIJzTWFjaGlrYUh1Yg==')) then
        CoreGui.MachikaHub:Destroy()
    end
end)
local gui = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('JBwKeAVWPIoInjMDrDRnfMsbEkswuuqYaVrlZDMnnXEAYRjEBGlAnwQU2NyZWVuR3Vp'), CoreGui)
gui.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('juVbPZowqQByyvYrXHJlVvCoelwlhpcdDgWIByTORfhyUBRMJiimkfNTWFjaGlrYUh1Yg==')
gui.ResetOnSpawn = false
local frame = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('RDHcasOedXKYBfmeCBHqmkquFkPmMlLctmPFEEvhBYvhYxTuMUuEVixRnJhbWU='), gui)
frame.Position = UDim2.new(0.23, 0, 0.1, 0)
frame.Size = UDim2.new(0, 280, 0, 130)
frame.BackgroundColor3 = Color3.fromRGB(23, 25, 41)
frame.BackgroundTransparency = 0.07
frame.BorderSizePixel = 0
Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('QZEzaFEdRaYNfeddGHBUrHbpuGMhXcktglqdcSTFVOJHuGQJqfReXFYVUlDb3JuZXI='), frame).CornerRadius = UDim.new(0, 15)
local grad = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('DjyqKsyvpcPpNVtmoKuVvdoCNesyABRiVFGTwpdAiuPdQtTleuFbLYGVUlHcmFkaWVudA=='), frame)
grad.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(70, 230, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 255, 123)),
})
grad.Rotation = 45
grad.Transparency = NumberSequence.new(0.08)
local stroke = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('UqjBZuPQDDyFrRiBUOFFsKEOzuPhElAMXIjDNNGXIvMeKbcYlcTstDCVUlTdHJva2U='), frame)
stroke.Thickness = 2.5
stroke.Color = Color3.fromRGB(54, 255, 210)
stroke.Transparency = 0.13

local title = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('cKmfceKLPqCDICzKYCvGIxwGsHJjJRBhFTKgMbXwbRArbumQPvppheJVGV4dExhYmVs'), frame)
title.Text = BRGnYXFdueRaBMeZksibCZbonPvYC('lgYAuGdPpGFUfJIMDXkPUPkUtVKsTZfAkxcupSGyjDNZaGftdXjDIwUTWFjaGlrYSBIdWI=')
title.Font = Enum.Font.FredokaOne
title.TextSize = 25
title.Size = UDim2.new(0, 180, 0, 30)
title.Position = UDim2.new(0, 13, 0, 7)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextStrokeTransparency = 0.8
title.TextXAlignment = Enum.TextXAlignment.Left
local credit = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('NLMzDORXsfxXWlTzixOkGtnMKczkwLGJrguCKpQUEcRMrXPCxPeYBgsVGV4dExhYmVs'), frame)
credit.Text = BRGnYXFdueRaBMeZksibCZbonPvYC('NiWQWfZYrSIaDZljeAfREpsoTqaVtkGcXsnAbQXGavKdjQIIxouaNYXQHNveWJlc3RpYTIgVGlrdG9r')
credit.Font = Enum.Font.FredokaOne
credit.TextSize = 17
credit.Size = UDim2.new(0, 170, 0, 20)
credit.Position = UDim2.new(0, 100, 0, 35)
credit.BackgroundTransparency = 1
credit.TextColor3 = Color3.fromRGB(64, 190, 255)
credit.TextStrokeTransparency = 0.8
credit.TextXAlignment = Enum.TextXAlignment.Left

local floatBtn = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('VLThTuwPMvOtzEYtPhabFsThmzVQZPnwFBMLKIbhkbWEWVMRqNWlCaZVGV4dEJ1dHRvbg=='), frame)
floatBtn.Text = BRGnYXFdueRaBMeZksibCZbonPvYC('XPhpBcgdLtMQZiIhLYkfITjGmMDkhBJUyPTulzyypXkxEMaMbaudUIBRmxvYXQgcGFydDogT0ZG')
floatBtn.Font = Enum.Font.FredokaOne
floatBtn.TextSize = 21
floatBtn.Size = UDim2.new(0, 220, 0, 40)
floatBtn.Position = UDim2.new(0, 30, 0, 80)
floatBtn.BackgroundColor3 = Color3.fromRGB(33, 240, 105)
floatBtn.TextColor3 = Color3.new(1, 1, 1)
floatBtn.BackgroundTransparency = 0.1
Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('NcEPzNZicOniTeuolFGCkhcGWEpmDrnKHczFKsIDYvsdXTsJKuYWqIjVUlDb3JuZXI='), floatBtn).CornerRadius = UDim.new(0, 10)
local uiStrokeBtn = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('rtKJGEjJbKfzOzJbAuFazjjdxFDakbEvkdXTREdvFjhtkbBwKhwufBRVUlTdHJva2U='), floatBtn)
uiStrokeBtn.Color = Color3.fromRGB(14, 210, 190)
uiStrokeBtn.Thickness = 2
uiStrokeBtn.Transparency = 0.13

-- DRAG MENU
local dragging, dragStart, startPos
frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)
frame.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- =================== FLOAT PART ===================
local floatPart, floatActive = nil, false
local function destroyFloat()
    if floatPart then
        floatPart:Destroy()
        floatPart = nil
    end
end
local function spawnFloat()
    destroyFloat()
    if
        LocalPlayer.Character
        and LocalPlayer.Character:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('IyKJkDElxEOGUVcVyBVHvNqCmRjSEYXzwCGejlGFNqInstcBFVwRqyuSHVtYW5vaWRSb290UGFydA=='))
    then
        floatPart = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('xEVblHQCbJdeydNkZMcxqOluGyQtdpVBtlMJnZWZTQawxDEZbSVXytSUGFydA=='))
        floatPart.Anchored = true
        floatPart.Size = Vector3.new(12, 1.2, 12)
        floatPart.Position = LocalPlayer.Character.HumanoidRootPart.Position
            - Vector3.new(0, 3, 0)
        floatPart.Transparency = 0.3
        floatPart.Color = Color3.fromRGB(18, 180, 255)
        floatPart.Material = Enum.Material.Neon
        floatPart.CanCollide = true
        floatPart.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('BtyWCCjMlQPNyvJHfhQhoNsWogLGVjCmIJeqPrbbMlOpNoFoNuPXfbPRmxvYXRQYXJ0X01hY2hpa2E=')
        floatPart.Parent = Workspace
    end
end
local function toggleFloat()
    floatActive = not floatActive
    floatBtn.Text = BRGnYXFdueRaBMeZksibCZbonPvYC('cvcJswltzZYveaFpQwRzoMbvZRtDgQqiSmAxKVNYsLqzplcGOOaTfHHRmxvYXQgcGFydDog') .. (floatActive and BRGnYXFdueRaBMeZksibCZbonPvYC('JOrnWGvtLxECtylGeCPLXIdwhhGhRXpWrvwxfIYzYirFLFFSHApOIyvT04=') or BRGnYXFdueRaBMeZksibCZbonPvYC('CcJtCuSIGIAlhNTmsZnRePugegNkzjfpdZMPBzyYKhigXbGdyAEdULPT0ZG'))
    floatBtn.BackgroundColor3 = floatActive and Color3.fromRGB(14, 210, 130)
        or Color3.fromRGB(33, 240, 105)
    if floatActive then
        spawnFloat()
    else
        destroyFloat()
    end
end
floatBtn.MouseButton1Click:Connect(toggleFloat)
RunService.RenderStepped:Connect(function()
    if
        floatActive
        and floatPart
        and LocalPlayer.Character
        and LocalPlayer.Character:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('hQWQSZIvfiXtfKakjwMFSXFoVNfNlYKlNqZWsLzbMReQHPmefGaLUNeSHVtYW5vaWRSb290UGFydA=='))
    then
        floatPart.Position = LocalPlayer.Character.HumanoidRootPart.Position
            - Vector3.new(0, 3, 0)
    end
end)
LocalPlayer.CharacterAdded:Connect(function()
    if floatActive then
        task.wait(1)
        spawnFloat()
    end
end)

-- =================== ESP PLAYERS + HITBOX ===================
local espFolder = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('vPNTAOThQoPKSwGTgfPvnYcNuNGhiZsYedSgYtBpYDTKqrRjbPxpRCmRm9sZGVy'), Workspace)
espFolder.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('HIjUFpMtdFxefVQkiptMNKrclDjUyVKVtZEdpULtHoRcXxAPPpSNvgqTWFjaGlrYV9QbGF5ZXJFU1A=')
local playerESPs = {}

local function updatePlayerESP(player)
    if
        not player
        or not player.Character
        or not player.Character:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('dcuZsFiOmTjUFkiGakyPAEXVxKBQADRiNITVwauuGNLInrukggYdNQdSHVtYW5vaWRSb290UGFydA=='))
    then
        if playerESPs[player] then
            playerESPs[player].billboard:Destroy()
            playerESPs[player].hitbox:Destroy()
            playerESPs[player] = nil
        end
        return
    end

    if not playerESPs[player] then
        local rootPart = player.Character.HumanoidRootPart
        local billboard = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('pbdRKeFUYlGGTGufCTmwfJQCDGFsPfWjTXHtIPiqewoMZZCwFNuTukwQmlsbGJvYXJkR3Vp'), espFolder)
        billboard.Name = player.Name .. BRGnYXFdueRaBMeZksibCZbonPvYC('bqbZEriZTLKeRllzQTapNVKGZGWOdDfsEeRfmcRAbDoduBzPzdlAGYkX01hY2hpa2FFU1A=')
        billboard.Adornee = rootPart
        billboard.Size = UDim2.new(0, 120, 0, 32)
        billboard.StudsOffset = Vector3.new(0, 3.8, 0)
        billboard.AlwaysOnTop = true

        local txt = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('jGVrOQLioSwWYpvpGGQlekmYFrVAvSCouTZOGnPfmJoKnPQqqasRKbMVGV4dExhYmVs'), billboard)
        txt.Size = UDim2.new(1, 0, 1, 0)
        txt.BackgroundTransparency = 1
        txt.TextColor3 = Color3.fromRGB(77, 180, 255)
        txt.TextStrokeTransparency = 0.28
        txt.TextStrokeColor3 = Color3.fromRGB(0, 44, 255)
        txt.Font = Enum.Font.FredokaOne
        txt.TextScaled = true
        txt.Text = player.DisplayName .. BRGnYXFdueRaBMeZksibCZbonPvYC('MmKFNJvewnVAIIprLubYYVTPcqgkDRGkuygXSwIMSJIrOYWUAToJWvCIFs=') .. player.Name .. BRGnYXFdueRaBMeZksibCZbonPvYC('drQDehZkJaWMsmWdiDspqWkaYZgBJXRFWzWLUqhHIpHKzMUvXxFlSqaXQ==')

        local hitbox = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('ldtcqyXjhngXilpALcdOSGMNMmOoKVeTcHvjpBtIUlyQXdFJBwjpwVfU2VsZWN0aW9uQm94'), espFolder)
        hitbox.Name = player.Name .. BRGnYXFdueRaBMeZksibCZbonPvYC('NUgFBFdsufUxPdSSPXnYfZcFVTuobZacxCTUaCMaojDwqnawUWaBAZKX01hY2hpa2FIaXRib3g=')
        hitbox.Adornee = rootPart
        hitbox.LineThickness = 0.15
        hitbox.Color3 = Color3.fromRGB(0, 132, 255)
        hitbox.SurfaceTransparency = 0.6

        playerESPs[player] = { billboard = billboard, hitbox = hitbox }
    else
        -- Asegurarse de que el Adornee sigue siendo correcto (por si el personaje reaparece)
        playerESPs[player].billboard.Adornee = player.Character.HumanoidRootPart
        playerESPs[player].hitbox.Adornee = player.Character.HumanoidRootPart
    end
end

Players.PlayerRemoving:Connect(function(player)
    if playerESPs[player] then
        playerESPs[player].billboard:Destroy()
        playerESPs[player].hitbox:Destroy()
        playerESPs[player] = nil
    end
end)

-- =================== ESP PODIOS, DECOR, GROUND, BORDERS ===================
local MIN_GEN = 280000
local function parseMoney(str)
    str = tostring(str)
    -- CORRECCIÓN: Se usaba BRGnYXFdueRaBMeZksibCZbonPvYC('GgJMgSJpxPnTDcdBoayGsqQezedqtvqjkHRTcWXcNBlgvlmGWefYpfoL3M=') en lugar de BRGnYXFdueRaBMeZksibCZbonPvYC('rDHErjzUkafZidhRtNxxdNvnSDNKCwlUVVQAvhEgWgoVAaeEDaNbhvxJXM=') para buscar espacios
    str = str:gsub(BRGnYXFdueRaBMeZksibCZbonPvYC('sxkUSmeXgceIPKmqEVkNLIAGdUQerubSDqvREreXdRPjkBVUTxyXBUoJSQ='), BRGnYXFdueRaBMeZksibCZbonPvYC('QhLjimkEDAPSlDXSNnrCeUGuUQTBLoPekbkIWycKYXEOdbGXJIqSdEK')):gsub(BRGnYXFdueRaBMeZksibCZbonPvYC('zCRcGxAWZofiDrQMzKZHVktdHoauufVhDHqDistpxgKpFCzixtcsaqrJXM='), BRGnYXFdueRaBMeZksibCZbonPvYC('aiBfLLCMrGOYkhxIBtheWAbLlJSLLFiJciKxEYyTOSvCjeIVIPgsAvC')):gsub(BRGnYXFdueRaBMeZksibCZbonPvYC('HCbcZSNnpdysvijuKMWceyzyyedXBnCnwcxJMhwHpEnzNzucbWbJHffW14lZCUuS2tNbUJiXQ=='), BRGnYXFdueRaBMeZksibCZbonPvYC('fHrMTFLEkEINbxaNEvDDSmCKLDBBDbiuUvyeUJCtsLLKnLtIgVFISQs'))
    local num = tonumber(str:match(BRGnYXFdueRaBMeZksibCZbonPvYC('QCPWhwDUvmiZQxPwHzMEhmZENxSrnnUEnWfKbrfgupUvDQPgMTePILsWyVkJS5dKw=='))) or 0
    if str:find(BRGnYXFdueRaBMeZksibCZbonPvYC('BWvecBWlwUBZCFbQqKKGRzcUqiiJBIdmjkIQkmFtUwmgpGzyCcbzVSgW0trXQ==')) then
        num = num * 1e3
    elseif str:find(BRGnYXFdueRaBMeZksibCZbonPvYC('NaxQJZYcJVwkeCzreYZAtvFfAJHiHTrNvYNsqseLLIqwAosPkWdRitbW01tXQ==')) then
        num = num * 1e6
    elseif str:find(BRGnYXFdueRaBMeZksibCZbonPvYC('rXxTeAVSlYudDUJvUgTfzAdqyhuuwSusJREiEIELwBQyKPdIrjammIzW0JiXQ==')) then
        num = num * 1e9
    end
    return num
end

local function beautify(n)
    if n >= 1e9 then
        return string.format(BRGnYXFdueRaBMeZksibCZbonPvYC('PoEDktxxABKkChKKtCFDyRpIzVqnPkUmbvfKREkYihOitGBoscMCJPaJS4yZkI='), n / 1e9)
    elseif n >= 1e6 then
        return string.format(BRGnYXFdueRaBMeZksibCZbonPvYC('bcvFLTZCnKsUyfcPiYTkrrKTKazhkyUMKlWuMHyfRnNaWQPmiJuJwYnJS4yZk0='), n / 1e6)
    elseif n >= 1e3 then
        return string.format(BRGnYXFdueRaBMeZksibCZbonPvYC('ePiRPbqQpbltaepfQywTkwdEeRSgwsBzDldAgQKioRGyjvQnRizQiyaJS4yZks='), n / 1e3)
    else
        return tostring(math.floor(n))
    end
end

local function updatePodiumESPs()
    if
        not LocalPlayer.Character
        or not LocalPlayer.Character:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('vMptkWdspuNArlQTqtpdqRpwmBPVQBONdRWercXpvMTzEfBXuBCQWQWSGVhZA=='))
    then
        return
    end

    local head = LocalPlayer.Character.Head
    local att0 = head:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('cUYWaGgyXgzRpKdNKkTBIoiktJTFkkEhdezhjSoypiQVrBjiOjlARVqQmVhbUF0dEZyb20='))
        or Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('qcwMPulafQzSXLKzShqtlAKCdZEvHLTSZbaIBzYAEgielnjmgCEkWhyQXR0YWNobWVudA=='), head)
    att0.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('YxjeGrmiHbeEvFDFHBXTnmZZqzwrLMAQjyaHnaqGmFfVpUdteFeboEZQmVhbUF0dEZyb20=')

    for _, plot in ipairs(Plots:GetChildren()) do
        local podiumsFolder = plot:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('hJdxiLXQDwhXcUJRHzksVtSKShXOAbYdfdllVlemQKhzjQAxamvZGAwQW5pbWFsUG9kaXVtcw=='))
        if podiumsFolder then
            for _, podium in ipairs(podiumsFolder:GetChildren()) do
                local base = podium:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('YKBqCmOFDkLDOHUvKbyubkbkmKoEukuaLFlrpgKJcilorRYcjngydoiQmFzZQ=='))
                local overhead = base
                    and base:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('hezJBYkFSteHXLdhibNIyYXAcGHJemfbBVbnqIdzUzRXlbAGyRYHRCzU3Bhd24='))
                    and base.Spawn:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('UtvOpgbxQGDKIfYLbYRvLQUgIBarZoIgWzEuufkHqxLanzgvyXPvtOmQXR0YWNobWVudA=='))
                    and base.Spawn.Attachment:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('JqLZYeimJfSsPuLSkFzZhsQwcPsjIrQEQXpkcafPICNdGgjadOpLyfRQW5pbWFsT3ZlcmhlYWQ='))
                local genLabel = overhead
                    and overhead:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('kneZgRsHhhkXoQUzdvJSaptobwGyHoNlnlUAbStQLmTrNlPpVTfIVYZR2VuZXJhdGlvbg=='))

                if genLabel and genLabel:IsA(BRGnYXFdueRaBMeZksibCZbonPvYC('yrPOhzGqWXcCyuJmxRtbCfKFaYmXiKhLBSQEtFNuFLEhvqyriyweHsuVGV4dExhYmVs')) then
                    local val = parseMoney(genLabel.Text)
                    if val >= MIN_GEN then
                        -- Crear ESP de texto
                        if not podium:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('wSjCzYuLklNfegrrGpususygAyOrKllitAaOufTkmhesSXCDWFFHlYORVNQTGFiZWw=')) then
                            local esp = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('lQSUxtpCbWSZNCEQWsbDiAbalHhalHZSsympiLVqGVVIfczdKRIfyzXQmlsbGJvYXJkR3Vp'), podium)
                            esp.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('QwGwxQsPPcFGFTzxApyaGMdEidNaPxlwIwHjgHlMuzJprsbChYjyknBRVNQTGFiZWw=')
                            esp.Adornee = base
                            esp.Size = UDim2.new(0, 160, 0, 48)
                            esp.StudsOffset = Vector3.new(0, 4, 0)
                            esp.AlwaysOnTop = true
                            -- ... (resto del código de la UI del ESP, es largo pero correcto)
                            local frame = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('XuNtYrdGGaOCgkpZhCEGheNgTDUpBIZcBDFfKhgafYLKJYROfDDLtTRRnJhbWU='), esp)
                            frame.Size = UDim2.new(1, 0, 1, 0)
                            frame.BackgroundTransparency = 0.14
                            frame.BackgroundColor3 = Color3.fromRGB(36, 44, 60)
                            frame.BorderSizePixel = 0
                            Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('oFcSaTKzpnfnHgZwRqouQsQDNUYvJcddGhDrciVKESWmVoTpXVwpbuoVUlDb3JuZXI='), frame).CornerRadius =
                                UDim.new(0, 14)
                            local stroke = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('rWtSoXtvJLorWQVcjOQXCiLXmIzFKlZYWAlOjGdTLnQSWPvHTHQZFORVUlTdHJva2U='), frame)
                            stroke.Thickness = 2
                            stroke.Color = Color3.fromRGB(42, 255, 115)
                            stroke.Transparency = 0.14
                            local gradient = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('ZxUlwYuwOoOOoSMnmFMOyIYwYNsWdYRQLtpbFoGhlgSZmLsOxeibhbhVUlHcmFkaWVudA=='), frame)
                            gradient.Color = ColorSequence.new({
                                ColorSequenceKeypoint.new(
                                    0,
                                    Color3.fromRGB(40, 255, 123)
                                ),
                                ColorSequenceKeypoint.new(
                                    1,
                                    Color3.fromRGB(15, 193, 255)
                                ),
                            })
                            local text = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('GKChrllCJOuyjOKIshfKhbPfUwlXzbqblNCSnrrjaAohQEHeoXOtvZWVGV4dExhYmVs'), frame)
                            text.Size = UDim2.new(1, -10, 1, -10)
                            text.Position = UDim2.new(0, 5, 0, 5)
                            text.BackgroundTransparency = 1
                            text.TextColor3 = Color3.fromRGB(255, 255, 255)
                            text.TextStrokeColor3 = Color3.fromRGB(8, 40, 12)
                            text.TextStrokeTransparency = 0.35
                            text.Font = Enum.Font.FredokaOne
                            text.TextScaled = true
                            text.Text = BRGnYXFdueRaBMeZksibCZbonPvYC('DfWVzzCrxHEymFHhuaGvgeBocpNkWkVASqQIFwMCQODJOXxpGXaMfDcJA==') .. beautify(val) .. BRGnYXFdueRaBMeZksibCZbonPvYC('HwouuZhpWKSpxDbybPYwBukOtfzoeivlRIpBXQntNfNylBFgCXToFjYL3M=')
                        end
                        -- Crear rayo (Beam)
                        if not podium:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('TqaiWUVoZUnWKXNEEFmHYNBJzlFnqtYeBZaaUVqSBvJBxpRjVLFJPTAQmVhbVRvUGxheWVy')) then
                            local att1 = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('EELJcRGhzXJciKrLFRZvnZpLYMxasaRYXIlmwAuRZsHFlUHppKVAIbxQXR0YWNobWVudA=='), base)
                            att1.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('yXknrSwsRLkgQQLIgUgBavZMgwPlTwSprHpYRxJjGNGmpfhlOwWyuMUQmVhbUF0dFRv')
                            local beam = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('dHPoQLnlrsLEoqLtghrHzRokBGLxwCTyoxewBwHMyNcNRPkWHttyexMQmVhbQ=='), podium)
                            beam.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('RZfzXuUERLwnHzYrdaFFsWZAghNJaIkXwfIlFKhAtTXRTFMRoUBQWGdQmVhbVRvUGxheWVy')
                            beam.Attachment0 = att0
                            beam.Attachment1 = att1
                            beam.Width0 = 0.2
                            beam.Width1 = 0.15
                            beam.Color = ColorSequence.new({
                                ColorSequenceKeypoint.new(
                                    0,
                                    Color3.fromRGB(20, 255, 90)
                                ),
                                ColorSequenceKeypoint.new(
                                    1,
                                    Color3.fromRGB(12, 185, 240)
                                ),
                            })
                            beam.LightInfluence = 0
                            beam.FaceCamera = true
                            beam.Transparency = NumberSequence.new({
                                NumberSequenceKeypoint.new(0, 0.03),
                                NumberSequenceKeypoint.new(1, 0.16),
                            })
                        end
                    end
                end
            end
        else
            -- MENSAJE DE DIAGNÓSTICO
            warn(
                BRGnYXFdueRaBMeZksibCZbonPvYC('xexTSqDuCmkhvjhqMoHbfcflgGzPFJCVcSHpwCDHyyoSXJIrGycKpTLTUFDSElLQSBIVUI6IEVuIGVsIHBsb3Qg')BRGnYXFdueRaBMeZksibCZbonPvYC('DhzVeckErnixpAGXgRXXhYAqlosiQLSQewsRbRVOzOxAQdHJNuZmWTxDQogICAgICAgICAgICAgICAgICAgIC4uIHBsb3QuTmFtZQ0KICAgICAgICAgICAgICAgICAgICAuLiA=')BRGnYXFdueRaBMeZksibCZbonPvYC('ejxCmWIyhtUwteFnawWNSmjdltjdNWbgcjBrglSzTVRZDMRsDckZjHbIG5vIHNlIGVuY29udHLDsyBsYSBjYXJwZXRhIA==')AnimalPodiumsBRGnYXFdueRaBMeZksibCZbonPvYC('ZlMHIFxIOhnViytmsBXSBArNcMRrlBADBUzglEZURGskfrFjfYxMzZyLg==')
            )
        end
    end
end

-- =================== MODIFICACIONES DEL MAPA (se ejecuta solo una vez) ===================
local function modifyMap()
    print(BRGnYXFdueRaBMeZksibCZbonPvYC('yClNreGpHUVyyxSTCEqgRLgjZBqctzgWRoVFVlPvKDfdUrkesmyePLmTUFDSElLQSBIVUI6IEludGVudGFuZG8gbW9kaWZpY2FyIGVsIG1hcGEuLi4='))
    -- Hacer decoraciones transparentes
    for _, plot in ipairs(Plots:GetChildren()) do
        local decorations = plot:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('IShXydBZMYDJGFbbJBkqJjmvgShGAKgmuRLOAKTGHSpBJhjWboNEITVRGVjb3JhdGlvbnM='))
        if decorations then
            for _, obj in ipairs(decorations:GetDescendants()) do
                if obj:IsA(BRGnYXFdueRaBMeZksibCZbonPvYC('rzqjXbuwCAydMlgfqzWClHEfXheJkribHCSNEtycoTSgoDYEuAXPsCDQmFzZVBhcnQ=')) then
                    obj.Transparency = 0.6
                end
            end
        end
    end

    local map = Workspace:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('ZbVswPFPeTFbAuqCfAnZziFsuAEVBdgTYBKKIWknKHoihAqEfTXmFxFTWFw'))
    if map then
        -- Agrandar el suelo
        local ground = map:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('gWuiiUVwuHbRvBOYyOpWvtGRPDvyndyMYfwoqDKYbebsdgnTXxxWZUVR3JvdW5k'))
        if ground and ground:IsA(BRGnYXFdueRaBMeZksibCZbonPvYC('GXTXZbeKWUdywnoZvVGIoxUgbrdXzVzyvnqXRPpLeecELDzXgEBWfqZQmFzZVBhcnQ=')) then
            ground.Size = Vector3.new(800, 50.875, 800)
            print(BRGnYXFdueRaBMeZksibCZbonPvYC('VFVtDEQxncMDGUpnoeyVrZghXmzihjavGujKIaDMrwYBUtiXprMukhFTUFDSElLQSBIVUI6IFN1ZWxvICg=')GroundBRGnYXFdueRaBMeZksibCZbonPvYC('vmMOpeXDLfHwnRLexSPSkRCfvsuEKMocbjPAJnJXjvPIZcdqmAMcRzSKSBtb2RpZmljYWRvLg=='))
        else
            warn(BRGnYXFdueRaBMeZksibCZbonPvYC('fNGwyQgCwjcuoBqvOBCDfhikZqzgERdjEPJVnbPxHJWCTBVLClfVJQQTUFDSElLQSBIVUI6IE5vIHNlIGVuY29udHLDsyA=')GroundBRGnYXFdueRaBMeZksibCZbonPvYC('QKEznKkXUYCJMwSOMaktceOFfXVriBqWuIUntvYSMRUSKsmBpSeckjvIGRlbnRybyBkZSA=')MapBRGnYXFdueRaBMeZksibCZbonPvYC('CUMybqauZuyeQMTRAvJbqAlVKxgGlnjTFgIBXMWeYSYyFxiUbTCsEpVLg=='))
        end

        -- Desactivar colisión de bordes
        local borders = map:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('FCSXoBYCTQqFDzQmOInJOoUuAXIsBcinXzZuHxGgAxIxkbpyWsNoyToQm9yZGVycw=='))
        if borders then
            for _, obj in ipairs(borders:GetDescendants()) do
                if obj:IsA(BRGnYXFdueRaBMeZksibCZbonPvYC('DEKiWLmnhOShlbdUyqEWMhmIizAXsogjjzPlibCfIphigJndPDhtgitQmFzZVBhcnQ=')) then
                    obj.CanCollide = false
                end
            end
            print(BRGnYXFdueRaBMeZksibCZbonPvYC('AzeqakSyMJwpeTVwfwgBFpeziYnncJUSkGmQfgdefxDuciJTjsPwkgHTUFDSElLQSBIVUI6IEJvcmRlcyAo')BordersBRGnYXFdueRaBMeZksibCZbonPvYC('jYoDAPBnrBtYkGaKkrzKiZPFMCEXyMcgeJmvdAnbysVohANcLTTBrzfKSBtb2RpZmljYWRvcy4='))
        else
            warn(BRGnYXFdueRaBMeZksibCZbonPvYC('nryRQMzmXEHMFeKFgojEyKPkhanrQvMLBupnkfOjjhbBxkuvTukrXjVTUFDSElLQSBIVUI6IE5vIHNlIGVuY29udHLDsyA=')BordersBRGnYXFdueRaBMeZksibCZbonPvYC('AdjCBbWCQbOSxIbftmQDHKaLzfDZzjTDqWWDgFIWCFTMfkWELsTaOZXIGRlbnRybyBkZSA=')MapBRGnYXFdueRaBMeZksibCZbonPvYC('EiqaVXAnmNILnoYRxYfHGECGTLPyzkzXpnciQbWNDFXasXbOuPqFACLLg=='))
        end
    else
        warn(BRGnYXFdueRaBMeZksibCZbonPvYC('XvlAkUCXLicmfcFJirdIWIzYBCxWKXftwUbTxvhWxQOkxmJcLRmtUFGTUFDSElLQSBIVUI6IE5vIHNlIGVuY29udHLDsyBsYSBjYXJwZXRhIA==')MapBRGnYXFdueRaBMeZksibCZbonPvYC('JNUdSYjalpFsXrBSFRsEROWuIYnlbZpyKvcUHEIoaEFmXbZJCKTAYAqIGVuIGVsIFdvcmtzcGFjZS4='))
    end
end

-- =================== ESP REMAINING TIME PLOTS ===================
local function updateRemainingTimeESPs()
    for _, plot in ipairs(Plots:GetChildren()) do
        local purchases = plot:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('dRQXgGvwjggfvsjNeiPDEZmMeUirgYzbLgCzYbjEwMKHVreJDhPbLTUUHVyY2hhc2Vz'))
        if purchases then
            local plotblock = purchases:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('ySAKEQQqQklcaXXPsbjfmzZBfBozTCfpjmnREmfRXDUZdYflSXHMQWXUGxvdEJsb2Nr'))
            if plotblock then
                local main = plotblock:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('LTJgAsVWokxtEcIDkUEhuLIUWMfSjAGHJoSwtNJqGCnYupAySLnFmMUTWFpbg=='))
                if main then
                    local bill = main:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('CpXZoshPPTcZRWeZFZNUslOGxpkKOncRikiMPFUwVGnMcsiRJwczmBqQmlsbGJvYXJkR3Vp'))
                    local remtime = bill
                        and bill:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('vGWbJYlrBcUdzvlVTufgcgsRzwcUywahZHgIMjnRDmeOGtKyrEmnesCUmVtYWluaW5nVGltZQ=='))
                    if
                        remtime
                        and remtime:IsA(BRGnYXFdueRaBMeZksibCZbonPvYC('bUcsJJegxKYVNpMcuPawhRjJfiDkhLEvsFxNixkWAprIQmDxrMslrABVGV4dExhYmVs'))
                        and not main:FindFirstChild(BRGnYXFdueRaBMeZksibCZbonPvYC('FhJcQSLLORJvKlkIdubSorWfyVBzurhLcLvyfqUzWNVNJxAqFnXVYQdRVNQX1JlbVRpbWU='))
                    then
                        local esp = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('sCSRdhejbhmmLfuxVHpbsQwJKZocqQlkbuKhpnqJEItzVXwMFwKThxLQmlsbGJvYXJkR3Vp'), main)
                        esp.Name = BRGnYXFdueRaBMeZksibCZbonPvYC('DIKthRlyKtjnQVvfvbaRicWVDNXlboOeamoXaLQMOLxurhbdRiBYrxSRVNQX1JlbVRpbWU=')
                        esp.Adornee = main
                        esp.Size = UDim2.new(0, 120, 0, 36)
                        esp.StudsOffset = Vector3.new(0, 4, 0)
                        esp.AlwaysOnTop = true
                        local text = Instance.new(BRGnYXFdueRaBMeZksibCZbonPvYC('lxZiigtVQbCyRTYBIQhxBHWLFtGshzcXbWRKEBMVribQUcRQDdsfCpTVGV4dExhYmVs'), esp)
                        text.Size = UDim2.new(1, 0, 1, 0)
                        text.BackgroundTransparency = 1
                        text.TextColor3 = Color3.fromRGB(255, 170, 0)
                        text.TextStrokeTransparency = 0.25
                        text.Font = Enum.Font.FredokaOne
                        text.TextScaled = true
                        remtime
                            :GetPropertyChangedSignal(BRGnYXFdueRaBMeZksibCZbonPvYC('IdhEsvUmwFPqZNhpEEHPvoCznOevdQYrZeVrDBNKPkjDvhUcCvsOhjdVGV4dA=='))
                            :Connect(function()
                                text.Text = remtime.Text
                            end)
                        text.Text = remtime.Text -- Establecer el texto inicial
                    end
                end
            else
                warn(
                    BRGnYXFdueRaBMeZksibCZbonPvYC('sUQYgkHutZdSgfvWfiLVzEOwktgOOFaSVBIGpEMMlzWlDEowFXIHbIeTUFDSElLQSBIVUI6IEVuIGVsIHBsb3Qg')BRGnYXFdueRaBMeZksibCZbonPvYC('KNAUXcCzQGsyLsNlNtYcwNKyeeXgRFObKrrPKcGFYuunZLxQTSaJkIGDQogICAgICAgICAgICAgICAgICAgICAgICAuLiBwbG90Lk5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uIA==')BRGnYXFdueRaBMeZksibCZbonPvYC('kwjwmiHDdvfGJryzdqxoMeuHcRCDLjfxpVErSIfqeESSQMGHOotabZxIG5vIHNlIGVuY29udHLDsyA=')PlotBlockBRGnYXFdueRaBMeZksibCZbonPvYC('qzwBgfWvQhZNBWHNafMFHdptHsDTLNCKSQrAOGtuPCVJqdswvISrojkLg==')
                )
            end
        else
            warn(
                BRGnYXFdueRaBMeZksibCZbonPvYC('jOIhAAnCxhdXnSwguhVFESpZevuyJooCWGIjZwgHLTyhVMJAyQEzcuxTUFDSElLQSBIVUI6IEVuIGVsIHBsb3Qg')BRGnYXFdueRaBMeZksibCZbonPvYC('gnMEBSnrhoVGDvRcCPYlelWwuCDHbmwFlvwiGiCOONSQGbiTzpgtcoVDQogICAgICAgICAgICAgICAgICAgIC4uIHBsb3QuTmFtZQ0KICAgICAgICAgICAgICAgICAgICAuLiA=')BRGnYXFdueRaBMeZksibCZbonPvYC('gYsRpVzpDeyGGeMRwMiTEpLjhvbArsUyxwHPmXtKLDlzBaDrCsjpaVuIG5vIHNlIGVuY29udHLDsyBsYSBjYXJwZXRhIA==')PurchasesBRGnYXFdueRaBMeZksibCZbonPvYC('sTjAKOZgClamXQRfUfGPvgIBYwSSsGhglnMcsNLbOIXMyXsPqJgnnfALg==')
            )
        end
    end
end

-- =================== BUCLE PRINCIPAL ===================
modifyMap() -- Modificar el mapa una sola vez al inicio

RunService.Heartbeat:Connect(function()
    -- Actualizar ESP de jugadores (esto es rápido y debe hacerse con frecuencia)
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            updatePlayerESP(player)
        end
    end
end)

-- Bucle más lento para cosas que no cambian tan a menudo
task.spawn(function()
    while task.wait(2) do -- Revisar cada 2 segundos es suficiente
        updatePodiumESPs()
        updateRemainingTimeESPs()
    end
end)
    
